<!-- <mat-card>
    <h3>Book an Appointment</h3>
    <div class="doctor-card-header">
      <img mat-card-avatar class="doctor-card-avatar" src="" alt="Doctor Profile Picture">
      <div class="doctor-card-header-text">
        <mat-card-title>Dr. Mohamed Zakir Husain <br>❣️ Cardiologist</mat-card-title><br>
        <button class="viewbutton">View Profile</button>
      </div>
    </div>
  </mat-card>
  
  <mat-stepper orientation="vertical" [linear]="isLinear" #stepper>
    <mat-step [stepControl]="firstFormGroup">
      <form [formGroup]="firstFormGroup">
        <ng-template matStepLabel>Choose your Doctor</ng-template>
        <mat-form-field appearance="fill">
          <mat-label>Select an option</mat-label>
          <mat-select [(value)]="selected" formControlName="selectDoctor" > 
            <mat-option>None</mat-option>
            <mat-option value="option1">bjh</mat-option>
            <mat-option value="option2">Option 2</mat-option>
            <mat-option value="option3">Option 3</mat-option>
          </mat-select>
        </mat-form-field>
  
        <p>You selected: {{selected}}</p>
  
        <div>
          <button mat-button matStepperNext>Next</button>
        </div>
      </form>
    </mat-step>
    <mat-step [stepControl]="secondFormGroup">
      <form [formGroup]="secondFormGroup">
        <ng-template matStepLabel>Fill out Date</ng-template>
        <mat-card>
          <mat-form-field class="example" appearance="fill">
            <mat-label>Choose a date</mat-label>
  
            <input matInput [matDatepicker]="picker">
            <button class="daterange" mat-raised-button (click)="picker.open()"><i class="material-icons ">date_range</i>
            </button>
            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>
        </mat-card>
        <div class="two-buttons">
          <button mat-button matStepperNext>Next</button>
        </div>
      </form>
    </mat-step>
    <mat-step>
      <ng-template matStepLabel>Done</ng-template>
      <p>You are now done.</p>
      <div>
        <button mat-button matStepperPrevious>Back</button>
      </div>
  
    </mat-step>
  </mat-stepper> -->
<div class="card">
  <h4 class="card-header">Booking Confirmation</h4>
  <div class="card-body">
      <form [formGroup]="form" (ngSubmit)="onSubmit()">
          <div class="mb-3">
              <label class="form-label">Choose your Doctor</label>              
                <select (change)="changeDoctor($event)" class="form-control" formControlName="doctorId" [ngClass]="{ 'is-invalid': submitted && f.doctorId.errors }">
                  <option value="">Choose your role</option>
                  <option *ngFor="let doc of doctorList" [ngValue]="doc.id">{{doc.lastName}} , {{doc.firstName}} - {{doc.degree}} : {{doc.specialist}}</option>
                </select>
                <div *ngIf="submitted && f.doctorId.errors" class="invalid-feedback">
                  <div *ngIf="f.doctorId.errors.required">Doctor is required</div>
              </div>

          </div>
          <div class="mb-3">
            <!-- <label class="form-label">Date</label>
            <input type="text" formControlName="appointmentDate" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.appointmentDate.errors }" /> -->
            <mat-label>Choose a date</mat-label>
            <input matInput [matDatepicker]="picker" formControlName="appointmentDate" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.appointmentDate.errors }">            
            <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
            <div *ngIf="submitted && f.appointmentDate.errors" class="invalid-feedback">
                <div *ngIf="f.appointmentDate.errors.required">Appointment Date is required</div>
            </div>
        </div>
        <div class="mb-3">
          <label class="form-label">Time</label>
          <input type="text" formControlName="appointmentTime" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.appointmentTime.errors }" />
          <div *ngIf="submitted && f.appointmentTime.errors" class="invalid-feedback">
              <div *ngIf="f.appointmentTime.errors.required">Time is required</div>
          </div>
      </div>      
          <div class="mb-3">
              <label class="form-label">Reason for Visit</label>
              <input type="text" formControlName="reasonForVisit" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.reasonForVisit.errors }" />
              <div *ngIf="submitted && f.reasonForVisit.errors" class="invalid-feedback">
                  <div *ngIf="f.reasonForVisit.errors.required">Reason for Visit is required</div>
              </div>
          </div>
          <div>
              <button [disabled]="loading" class="btn btn-primary">
                  <span *ngIf="loading" class="spinner-border spinner-border-sm me-1"></span>
                  Submit
              </button> 
              <a routerLink="/patient" class="btn btn-link">Cancel</a>             
          </div>
      </form>
  </div>
</div>